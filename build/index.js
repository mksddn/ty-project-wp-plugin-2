!function(){"use strict";var e=window.wp.element,t=window.wp.components,n=window.wp.data,l=window.wp.coreData,a=window.wp.editPost;(0,window.wp.plugins.registerPlugin)("typp-sidebar",{render:function(){const[o]=(0,l.useEntityProp)("root","site","typp_token"),[p,i]=(0,e.useState)([]),r=()=>{fetch("https://ty.mailstone.net/api/players",{method:"GET",status:"active",headers:{Authorization:o}}).then((e=>e.json())).then((e=>{i(e.filter((e=>"active"==e.status)).map((e=>({label:e.name,value:e.id,type:e.type}))))})).catch((e=>{})).finally((e=>{}))};(0,e.useEffect)((()=>{r()}),[]);const c=[{value:"",label:"Select a Player"}],y=(0,n.useSelect)((e=>e("core/editor").getCurrentPostType()),[]),[s,u]=(0,l.useEntityProp)("postType",y,"meta"),m=s.typp_name,d=s.typp_id;function f(e){"dynamic"===p.filter((t=>t.value==e))[0].type?u({...s,typp_id:e,typp_name:p.filter((t=>t.value==e))[0].label,typp_type:p.filter((t=>t.value==e))[0].type,typp_position:""}):u({...s,typp_id:e,typp_name:p.filter((t=>t.value==e))[0].label,typp_type:p.filter((t=>t.value==e))[0].type,typp_position:"Before Content"})}const w=s.typp_type,P=s.typp_position;return(0,e.createElement)(a.PluginDocumentSettingPanel,{name:"customMetaPanel",title:"TY Project Player"},(0,e.createElement)("p",null,(0,e.createElement)("b",null,"Selected Player: ",(0,e.createElement)("i",null,m))),(0,e.createElement)("br",null),(0,e.createElement)(t.SelectControl,{onClick:r,label:"Select a Dynamic Player",value:d,options:c.concat(p.filter((e=>"dynamic"==e.type))),onChange:f}),(0,e.createElement)("br",null),(0,e.createElement)(t.SelectControl,{onClick:r,label:"Select a Static Player",value:d,options:c.concat(p.filter((e=>"static"==e.type))),onChange:f}),(0,e.createElement)("br",null),"static"===w?(0,e.createElement)(t.SelectControl,{label:"Select a Player Position",value:P,options:[{label:"Before Content",value:"Before Content"},{label:"After Content",value:"After Content"}],onChange:e=>{u({...s,typp_position:e||""})}}):null)},icon:""})}();