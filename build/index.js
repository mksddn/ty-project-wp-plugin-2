!function(){"use strict";var e=window.wp.element,t=window.wp.components,l=window.wp.data,a=window.wp.coreData,n=window.wp.editPost;(0,window.wp.plugins.registerPlugin)("typp-sidebar",{render:function(){const p=(0,l.useSelect)((e=>e("core/editor").getCurrentPostType()),[]);if("post"!==p&&"page"!==p)return null;const[o]=(0,a.useEntityProp)("root","site","tytylr_token"),[i,r]=(0,e.useState)([]),[c,u]=(0,e.useState)([]),y=()=>{fetch("https://dashboard.tylr.com/api/players",{method:"GET",status:"active",headers:{Authorization:o}}).then((e=>e.json())).then((e=>{r(e.filter((e=>"active"==e.status)).map((e=>({label:e.name,value:e.id,type:e.type}))))})).catch((e=>{})).finally((e=>{}))};(0,e.useEffect)((()=>{y()}),[]);const s=[{value:"",label:"Select a Player"}],[m,d]=(0,a.useEntityProp)("postType",p,"meta"),f=m.typp_name,v=m.typp_id;function b(e){"dynamic"===i.filter((t=>t.value==e))[0].type?d({...m,typp_id:e,typp_name:i.filter((t=>t.value==e))[0].label,typp_type:i.filter((t=>t.value==e))[0].type,typp_position:""}):d({...m,typp_id:e,typp_name:i.filter((t=>t.value==e))[0].label,typp_type:i.filter((t=>t.value==e))[0].type,typp_position:"Before Content"})}const P=m.typp_type||null,h=m.typp_position||null;return(0,e.createElement)(n.PluginDocumentSettingPanel,{name:"customMetaPanel",title:"TYLR Player"},f?(0,e.createElement)("p",null,(0,e.createElement)("b",null,"Selected Player: ",(0,e.createElement)("i",null,f))):null,(0,e.createElement)(t.RadioControl,{selected:c,options:[{label:"Add a Dynamic Player",value:"dynamic"},{label:"Add a Static Player",value:"static"}],onChange:e=>(u(e),void y())}),"dynamic"===c?(0,e.createElement)(t.SelectControl,{onClick:y,label:"Select a Dynamic Player",className:"typp-btn",value:v,options:s.concat(i.filter((e=>"dynamic"==e.type))),onChange:b}):null,"static"===c?(0,e.createElement)(t.SelectControl,{onClick:y,label:"Select a Static Player",className:"typp-btn",value:v,options:s.concat(i.filter((e=>"static"==e.type))),onChange:b}):null,"static"===P||"static"===c?(0,e.createElement)(t.SelectControl,{label:"Select a Player Position",className:"typp-btn",value:h,options:[{label:"After Title",value:"After Title"},{label:"Before Content",value:"Before Content"},{label:"After Content",value:"After Content"},{label:"After 1st Paragraph",value:"After 1st Paragraph"},{label:"After 2nd Paragraph",value:"After 2nd Paragraph"}],onChange:e=>{d({...m,typp_position:e||""})}}):null,f?(0,e.createElement)(t.ButtonGroup,null,(0,e.createElement)(t.Button,{variant:"link",className:"typp-btn typp-btn-remove",onClick:function(){d({...m,typp_id:null,typp_name:null,typp_type:null,typp_position:""}),u(null)}},"Delete the Current Player")):null)},icon:""})}();